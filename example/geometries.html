<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta http-equiv="X-UA-Compatible" content="ie=edge">
<title>TrackballControls</title>
<style>
* {
  margin: 0;
  padding: 0;
}
.container {
  position: relative;
  width: 800px;
  height: 800px;
  overflow: hidden;
  border: 1px solid red;
}

</style>
<script src="./lib/stats.min.js"></script>
<script src="../dist/c3.js"></script>
<script src="./lib/TrackballControls.js"></script>
</head>
<body>
<div class="container">

</div>

<script>
let stats = new Stats();
document.body.appendChild( stats.dom );

let renderer = new C3.Renderer({
  lightEffect: true
});

let containerElem = document.querySelector('.container');
let camera = new C3.Camera(Math.PI / 4);

camera.setPosition(0, 0, 300);
camera.setLookAt(0, 0, 0);
camera.setUp(0, 1, 0);

let scene = new C3.Scene(containerElem);

let directionLight = new C3.DirectionLight(new C3.Vector3(10, 0, 0), 1);
scene.addLight(directionLight);
// let directionLight2 = new C3.DirectionLight(new C3.Vector3(-5, 10, 0), 1);
// scene.addLight(directionLight2);
let ambientLight = new C3.AmbientLight(0.1);
scene.addLight(ambientLight);

let sphere = new C3.Sphere(40, 0, 80, '#abcdef', 36);
sphere.setPosition(0, 0, 0);
scene.add(sphere);

let objs = [];
let objWidthCount = 6;
let objWidthCountHalf = objWidthCount / 2;

// for (let x = 0; x < objWidthCount; x++) {
//   for (let y = 0; y < objWidthCount; y++) {
//     let topRadius = 10 * Math.random();
//     let bottomRadius = 10 * Math.random();
//     let height = 20 * Math.random();
//     let segment = 6;
//     let color = `rgba(${(Math.random() * 255) | 0}, ${(Math.random() * 255) | 0}, ${(Math.random() * 255) | 0}, ${(Math.random().toFixed(6))})`;
//     let count = x * objWidthCount + y
    
    
//     objs[count] = new C3.Sphere(topRadius, bottomRadius, height, color, segment);
//     objs[count].setPosition((x - objWidthCountHalf) * 30, (y - objWidthCountHalf) * 30, (Math.random() - 0.5) * 300 );
    
//     objs[count].rotationAdd = [Math.random() * 0.06, Math.random() * 0.06, Math.random() * 0.06];
    
//     scene.add(objs[count]);
//   }
// }

let controls = new C3.TrackballControls(camera);
controls.rotateSpeed = 3.0;
controls.zoomSpeed = 1.2;
controls.panSpeed = 0.3;

let cameraRadian = 0;
function tick(){
  stats.update();

  cameraRadian += 0.007;
  // camera.setPosition(Math.cos(cameraRadian) * 300, Math.sin(cameraRadian) * 300, Math.sin(cameraRadian) * 300);
  camera.setNeedUpdate();
  // console.log(camera.position);

  renderer.render(scene, camera);
  window.requestAnimationFrame(tick);
  // setTimeout(tick, 500);

  controls.update();


}
renderer.render(scene, camera);
tick();
// console.log(C3);


</script>
</body>
</html>